<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Endy</title>
  
  <subtitle>å…³äºæŠ€æœ¯ï¼Œå…³äºç”Ÿæ´»</subtitle>
  <link href="http://blog.viewing.top/atom.xml" rel="self"/>
  
  <link href="http://blog.viewing.top/"/>
  <updated>2022-03-25T05:15:46.798Z</updated>
  <id>http://blog.viewing.top/</id>
  
  <author>
    <name>Endy</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>ç”³è¯·letsencryptæ³›åŸŸå</title>
    <link href="http://blog.viewing.top/2022/03/25/%E7%94%B3%E8%AF%B7letsencrypt%E6%B3%9B%E5%9F%9F%E5%90%8D/"/>
    <id>http://blog.viewing.top/2022/03/25/%E7%94%B3%E8%AF%B7letsencrypt%E6%B3%9B%E5%9F%9F%E5%90%8D/</id>
    <published>2022-03-25T02:42:15.000Z</published>
    <updated>2022-03-25T05:15:46.798Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>å› ä¸ºéœ€è¦ä½¿ç”¨æ³›åŸŸåè¯ä¹¦ä¸”letsencryptå®˜æ–¹æä¾›DNSæ’ä»¶å¹¶æ²¡æœ‰é˜¿é‡Œäº‘çš„(githubè™½æœ‰å›½äººå†™çš„ ä½†æ˜¯ å®‰è£…æˆ‘å«Œéº»çƒ¦ ğŸ˜‚ ) æ‰€ä»¥ç›´æ¥åˆ©ç”¨<a href="acme.sh">acme.sh</a>å·¥å…·</p></blockquote><h1 id="Step1-å®‰è£…-acme-sh"><a href="#Step1-å®‰è£…-acme-sh" class="headerlink" title="Step1. å®‰è£… acme.sh"></a>Step1. å®‰è£… acme.sh</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl https://get.acme.sh | sh -s email=my@example.com</span><br></pre></td></tr></table></figure><h1 id="Step2-ç”³è¯·é˜¿é‡Œäº‘AccessKey-ID-å’Œ-AccessKey-Secret"><a href="#Step2-ç”³è¯·é˜¿é‡Œäº‘AccessKey-ID-å’Œ-AccessKey-Secret" class="headerlink" title="Step2. ç”³è¯·é˜¿é‡Œäº‘AccessKey ID å’Œ AccessKey Secret"></a>Step2. ç”³è¯·é˜¿é‡Œäº‘<code>AccessKey ID</code> å’Œ <code>AccessKey Secret</code></h1><ol><li>è®¿é—® <a href="https://ram.console.aliyun.com/">https://ram.console.aliyun.com</a></li><li>ç‚¹å‡»å·¦è¾¹ç”¨æˆ· ç„¶ååˆ›å»ºç”¨æˆ· é€‰æ‹©Open Api<blockquote><p>(æ³¨æ„ä¿å­˜ AccessKey ID å’Œ AccessKey Secret)</p> <img src="/images/create-user.png"></blockquote></li><li>ä¸ºåˆšåˆšåˆ›å»ºçš„ç”¨æˆ·æ·»åŠ æƒé™  <img src="/images/access.png"></li></ol><h1 id="Step3-ç”Ÿæˆè¯ä¹¦"><a href="#Step3-ç”Ÿæˆè¯ä¹¦" class="headerlink" title="Step3. ç”Ÿæˆè¯ä¹¦"></a>Step3. ç”Ÿæˆè¯ä¹¦</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Ali_Keyå’ŒAli_Secretè¢«ä¿å­˜~/.acme.sh/account.confå¹¶åœ¨éœ€è¦æ—¶è¢«é‡ç”¨ã€‚</span></span><br><span class="line"><span class="built_in">export</span> Ali_Key=<span class="string">&quot;ä¸Šé¢ç”³è¯·çš„AccessKey ID&quot;</span></span><br><span class="line"><span class="built_in">export</span> Ali_Secret=<span class="string">&quot;ä¸Šé¢ç”³è¯·çš„AccessKey Secret&quot;</span></span><br><span class="line"><span class="comment"># example.com æ›¿æ¢æˆè‡ªå·±çš„</span></span><br><span class="line">acme.sh --issue --dns dns_ali -d example.com -d www.example.com</span><br></pre></td></tr></table></figure><p>å‰é¢è¯ä¹¦ç”Ÿæˆä»¥å, æ¥ä¸‹æ¥éœ€è¦æŠŠè¯ä¹¦ copy åˆ°çœŸæ­£éœ€è¦ç”¨å®ƒçš„åœ°æ–¹.</p><h1 id="Step4-å¤åˆ¶-å®‰è£…è¯ä¹¦-å¹¶é‡å¯nginx"><a href="#Step4-å¤åˆ¶-å®‰è£…è¯ä¹¦-å¹¶é‡å¯nginx" class="headerlink" title="Step4. å¤åˆ¶/å®‰è£…è¯ä¹¦ å¹¶é‡å¯nginx"></a>Step4. å¤åˆ¶/å®‰è£…è¯ä¹¦ å¹¶é‡å¯nginx</h1><blockquote><p>æ³¨æ„, é»˜è®¤ç”Ÿæˆçš„è¯ä¹¦éƒ½æ”¾åœ¨å®‰è£…ç›®å½•ä¸‹: ~/.acme.sh/ è¯·ä¸è¦ç›´æ¥ä½¿ç”¨æ­¤ç›®å½•ä¸‹çš„æ–‡ä»¶ æ­£ç¡®çš„ä½¿ç”¨æ–¹æ³•æ˜¯ä½¿ç”¨ â€“install-cert å‘½ä»¤</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># /path/to/keyfile/in/nginx/*.demo.com.cer æ”¹æˆä½ æƒ³è¦åœ¨ nginx.confä¸­å¼•å…¥é…ç½®çš„è·¯å¾„</span></span><br><span class="line">acme.sh --install-cert -d <span class="string">&quot;*.example.com&quot;</span> \</span><br><span class="line">--key-file       <span class="string">&quot;/path/to/keyfile/in/nginx/example.key&quot;</span>  \</span><br><span class="line">--fullchain-file <span class="string">&quot;/path/to/fullchain/nginx/example.cer&quot;</span> \</span><br><span class="line">--reloadcmd     <span class="string">&quot;systemctl reload nginx&quot;</span></span><br></pre></td></tr></table></figure><h1 id="nginx-conf"><a href="#nginx-conf" class="headerlink" title="nginx.conf"></a>nginx.conf</h1><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    # ....</span><br><span class="line">    listen 443 ssl; # acme</span><br><span class="line">    ssl_certificate /path/to/keyfile/in/nginx/demo.key; # acme</span><br><span class="line">    ssl_certificate_key /path/to/fullchain/nginx/demo.cer; # acme</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;å› ä¸ºéœ€è¦ä½¿ç”¨æ³›åŸŸåè¯ä¹¦ä¸”letsencryptå®˜æ–¹æä¾›DNSæ’ä»¶å¹¶æ²¡æœ‰é˜¿é‡Œäº‘çš„(githubè™½æœ‰å›½äººå†™çš„ ä½†æ˜¯ å®‰è£…æˆ‘å«Œéº»çƒ¦ ğŸ˜‚ ) æ‰€ä»¥ç›´æ¥åˆ©ç”¨&lt;a href=&quot;acme.sh&quot;&gt;acme.sh&lt;/a&gt;å·¥å…·&lt;/p&gt;
&lt;/blockquote&gt;
</summary>
      
    
    
    
    
    <category term="https" scheme="http://blog.viewing.top/tags/https/"/>
    
    <category term="nginx" scheme="http://blog.viewing.top/tags/nginx/"/>
    
    <category term="letsencrypt" scheme="http://blog.viewing.top/tags/letsencrypt/"/>
    
  </entry>
  
  <entry>
    <title>æŸä¸œskç®—æ³•åˆ†æ</title>
    <link href="http://blog.viewing.top/2022/03/11/%E6%9F%90%E4%B8%9Csk%E7%AE%97%E6%B3%95%E5%88%86%E6%9E%90/"/>
    <id>http://blog.viewing.top/2022/03/11/%E6%9F%90%E4%B8%9Csk%E7%AE%97%E6%B3%95%E5%88%86%E6%9E%90/</id>
    <published>2022-03-11T02:52:13.000Z</published>
    <updated>2022-03-11T02:53:13.767Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>åœ¨æ­¤å‰, </p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;åœ¨æ­¤å‰, &lt;/p&gt;
&lt;/blockquote&gt;
</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>Failed to download metadata for repo â€˜AppStreamâ€™ [CentOS]</title>
    <link href="http://blog.viewing.top/2022/02/16/Failed-to-download-metadata-for-repo-%E2%80%98AppStream%E2%80%99-CentOS/"/>
    <id>http://blog.viewing.top/2022/02/16/Failed-to-download-metadata-for-repo-%E2%80%98AppStream%E2%80%99-CentOS/</id>
    <published>2022-02-16T08:34:17.000Z</published>
    <updated>2022-02-16T09:55:15.292Z</updated>
    
    <content type="html"><![CDATA[<p>æˆ‘åœ¨ä¸€å°æœåŠ¡å™¨ä¸ŠæˆåŠŸå®‰è£…äº†<code>CentOS 8</code>ï¼Œå½“æˆ‘å°è¯•ä½¿ç”¨<code>yum update -y</code> æ—¶ æˆ‘çœ‹åˆ°æ­¤é”™è¯¯æ¶ˆæ¯ï¼š<br><img src="/images/appStream-install-error.jpg"></p><h2 id="ä¸‹é¢æ˜¯åŸå› ä¸ä¿®å¤æ–¹æ³•"><a href="#ä¸‹é¢æ˜¯åŸå› ä¸ä¿®å¤æ–¹æ³•" class="headerlink" title="ä¸‹é¢æ˜¯åŸå› ä¸ä¿®å¤æ–¹æ³•"></a>ä¸‹é¢æ˜¯åŸå› ä¸ä¿®å¤æ–¹æ³•</h2><blockquote><p>Fix Failed to download metadata for repo â€˜AppStreamâ€™ [CentOS]<br><a href="https://www.centos.org/centos-linux-eol/">CentOS Linux8 å·² 2021 å¹´ 12 æœˆ 31 æ—¥ EOL</a> è¿™æ„å‘³ç€ CentOS 8 å°†ä¸å†ä» CentOS å®˜æ–¹é¡¹ç›®è·å¾—å¼€å‘èµ„æºã€‚åœ¨ 2021 å¹´ 12 æœˆ 31 æ—¥ä¹‹åï¼Œå¦‚æœæ‚¨éœ€è¦æ›´æ–°æ‚¨çš„ CentOSï¼Œæ‚¨éœ€è¦å°†é•œåƒæ›´æ”¹ä¸º<a href="vault.centos.org">vault.centos.org</a>ï¼Œå®ƒä»¬å°†è¢«æ°¸ä¹…å­˜æ¡£ã€‚æˆ–è€…ï¼Œæ‚¨å¯èƒ½æƒ³è¦å‡çº§åˆ° <a href="https://techglimpse.com/convert-centos8-linux-centosstream">CentOS Stream</a></p></blockquote><h3 id="Step1-è¿›å…¥-etc-yum-repos-d-ç›®å½•"><a href="#Step1-è¿›å…¥-etc-yum-repos-d-ç›®å½•" class="headerlink" title="Step1 è¿›å…¥/etc/yum.repos.d/ç›®å½•"></a>Step1 è¿›å…¥/etc/yum.repos.d/ç›®å½•</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /etc/yum.repos.d/</span><br></pre></td></tr></table></figure><h3 id="Step2-è¿è¡Œä»¥ä¸‹å‘½ä»¤"><a href="#Step2-è¿è¡Œä»¥ä¸‹å‘½ä»¤" class="headerlink" title="Step2 è¿è¡Œä»¥ä¸‹å‘½ä»¤"></a>Step2 è¿è¡Œä»¥ä¸‹å‘½ä»¤</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed -i <span class="string">&#x27;s/mirrorlist/#mirrorlist/g&#x27;</span> /etc/yum.repos.d/CentOS-*</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed -i <span class="string">&#x27;s|#baseurl=http://mirror.centos.org|baseurl=http://vault.centos.org|g&#x27;</span> /etc/yum.repos.d/CentOS-*</span><br></pre></td></tr></table></figure><h3 id="Step-3-ç°åœ¨è¿è¡Œ-yum-update-å·²ç»ok"><a href="#Step-3-ç°åœ¨è¿è¡Œ-yum-update-å·²ç»ok" class="headerlink" title="Step 3: ç°åœ¨è¿è¡Œ yum update å·²ç»ok;"></a>Step 3: ç°åœ¨è¿è¡Œ <code>yum update</code> å·²ç»ok;</h3><img src="/images/appStream-install.jpg">]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;æˆ‘åœ¨ä¸€å°æœåŠ¡å™¨ä¸ŠæˆåŠŸå®‰è£…äº†&lt;code&gt;CentOS 8&lt;/code&gt;ï¼Œå½“æˆ‘å°è¯•ä½¿ç”¨&lt;code&gt;yum update -y&lt;/code&gt; æ—¶ æˆ‘çœ‹åˆ°æ­¤é”™è¯¯æ¶ˆæ¯ï¼š&lt;br&gt;&lt;img src=&quot;/images/appStream-install-error.jpg&quot;&gt;&lt;/p&gt;
&lt;h</summary>
      
    
    
    
    
    <category term="Bugs" scheme="http://blog.viewing.top/tags/Bugs/"/>
    
  </entry>
  
  <entry>
    <title>ESLint + React + Typescript</title>
    <link href="http://blog.viewing.top/2021/11/05/react-typescript-eslint/"/>
    <id>http://blog.viewing.top/2021/11/05/react-typescript-eslint/</id>
    <published>2021-11-05T06:37:39.000Z</published>
    <updated>2021-12-23T03:51:45.301Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p><code>JavaScript</code> æ˜¯ä¸€ä¸ªåŠ¨æ€çš„å¼±ç±»å‹è¯­è¨€ï¼Œåœ¨å¼€å‘ä¸­æ¯”è¾ƒå®¹æ˜“å‡ºé”™ã€‚å› ä¸ºæ²¡æœ‰ç¼–è¯‘ç¨‹åºï¼Œä¸ºäº†å¯»æ‰¾ JavaScript ä»£ç é”™è¯¯é€šå¸¸éœ€è¦åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ä¸æ–­è°ƒè¯•ã€‚åƒ <code>ESLint</code> è¿™æ ·çš„å¯ä»¥è®©ç¨‹åºå‘˜åœ¨ç¼–ç çš„è¿‡ç¨‹ä¸­å‘ç°é—®é¢˜è€Œä¸æ˜¯åœ¨æ‰§è¡Œçš„è¿‡ç¨‹ä¸­, æœ¬æ•™ç¨‹çš„ä¸»è¦ç›®æ ‡æ˜¯é€æ­¥è®¾ç½®å¹¶è§£é‡Šæ·»åŠ æˆ–æ‰§è¡Œçš„æ¯ä¸€è¡Œï¼Œè€Œä¸æ˜¯ä»…ä»…ç»™æ‚¨ä¸€å †å¸¦æœ‰å¤§é‡é…ç½®çš„æ–‡ä»¶ï¼Œå¹¶æœŸæœ›æ‚¨èƒ½å¤Ÿäº†è§£äº‹ç‰©çš„å†…å®¹å’Œæ–¹å¼æ­£åœ¨å‘ç”Ÿã€‚</p><p><em>é‚£ä¹ˆï¼Œè®©æˆ‘ä»¬å¼€å§‹å§ï¼</em></p><h2 id="å…ˆå†³æ¡ä»¶"><a href="#å…ˆå†³æ¡ä»¶" class="headerlink" title="å…ˆå†³æ¡ä»¶"></a>å…ˆå†³æ¡ä»¶</h2><blockquote><p>æ³¨æ„: å¦‚æœä½ æ²¡æœ‰å®ƒï¼Œè¯·å» <a href="https://nodejs.org/">NodeJS</a> ç½‘ç«™ï¼Œä¸‹è½½å¹¶å®‰è£…åˆ°ä½ çš„æœ¬åœ°æœºå™¨ä¸Š</p></blockquote><ul><li>node version &gt;= 14</li></ul><h2 id="Step1-ä½¿ç”¨-Typescript-åˆ›å»ºä¸€ä¸ª-React-é¡¹ç›®"><a href="#Step1-ä½¿ç”¨-Typescript-åˆ›å»ºä¸€ä¸ª-React-é¡¹ç›®" class="headerlink" title="Step1: ä½¿ç”¨ Typescript åˆ›å»ºä¸€ä¸ª React é¡¹ç›®"></a>Step1: ä½¿ç”¨ <code>Typescript</code> åˆ›å»ºä¸€ä¸ª <code>React</code> é¡¹ç›®</h2><blockquote><p>ä¸ºäº†ç®€å•æ˜äº†è¿™é‡Œç›´æ¥ä½¿ç”¨<a href="https://create-react-app.bootcss.com/">create-react-app</a></p></blockquote><p>åœ¨ç»ˆç«¯ä¸Šè¿è¡Œï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx create-react-app my-app --template typescript</span><br></pre></td></tr></table></figure><h2 id="Step2-ä»-React-é¡¹ç›®ä¸­ç§»é™¤é¢„è®¾çš„-ESLint-é…ç½®"><a href="#Step2-ä»-React-é¡¹ç›®ä¸­ç§»é™¤é¢„è®¾çš„-ESLint-é…ç½®" class="headerlink" title="Step2: ä» React é¡¹ç›®ä¸­ç§»é™¤é¢„è®¾çš„ ESLint é…ç½®"></a>Step2: ä» <code>React</code> é¡¹ç›®ä¸­ç§»é™¤é¢„è®¾çš„ <code>ESLint</code> é…ç½®</h2><p>React å¸¦æœ‰é¢„å…ˆè®¾ç½®çš„ eslint é…ç½®ã€‚è®©æˆ‘ä»¬åˆ é™¤æ­¤é…ç½®ï¼Œä»¥ä¾¿æˆ‘ä»¬å¯ä»¥è®¾ç½®æ›´å¥½çš„é…ç½®ã€‚ä¸ºæ­¤ï¼Œè¯·ä»<code>package.json</code>æ–‡ä»¶ä¸­åˆ é™¤ä»¥ä¸‹ä»£ç </p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// package.json</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;eslintConfig&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;extends&quot;</span>: [<span class="string">&quot;react-app&quot;</span>, <span class="string">&quot;react-app/jest&quot;</span>]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Step3-ESLint-å®‰è£…"><a href="#Step3-ESLint-å®‰è£…" class="headerlink" title="Step3: ESLint å®‰è£…"></a>Step3: <code>ESLint</code> å®‰è£…</h2><blockquote><p>æ‚¨å¯ä»¥ä½¿ç”¨ npm æˆ– yarn å®‰è£…ï¼š</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install eslint --save-dev</span><br><span class="line"><span class="comment">#or</span></span><br><span class="line">yarn add eslint --dev</span><br></pre></td></tr></table></figure><p>è¿è¡Œåï¼Œä½ ä¼šçœ‹åˆ°<code>ESLint</code>è¢«æ·»åŠ åˆ°<code>package.json</code> çš„<code>devDependencies</code></p><blockquote><p>PS: å¿½ç•¥ç‰ˆæœ¬ã€‚</p></blockquote><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// package.json</span></span><br><span class="line"> <span class="string">&quot;devDependencies&quot;</span>: &#123;</span><br><span class="line">   <span class="attr">&quot;eslint&quot;</span>: <span class="string">&quot;^8.5.0&quot;</span></span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><h2 id="Step4-åˆå§‹åŒ–ESLint"><a href="#Step4-åˆå§‹åŒ–ESLint" class="headerlink" title="Step4: åˆå§‹åŒ–ESLint"></a>Step4: åˆå§‹åŒ–<code>ESLint</code></h2><p>ç„¶åä½ åº”è¯¥è®¾ç½®ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œæœ€ç®€å•çš„æ–¹æ³•æ˜¯ä½¿ç”¨â€“init æ ‡å¿—ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npx eslint --init</span><br><span class="line"><span class="comment">#or</span></span><br><span class="line">yarn run eslint --init</span><br></pre></td></tr></table></figure><p>è¿è¡Œæ­¤å‘½ä»¤æ—¶ï¼Œæ‚¨éœ€è¦å›ç­”ä¸€äº›æœ‰å…³é…ç½®çš„é—®é¢˜ï¼š</p><img src="/images/eslint-install.png"><p>æ­¤åä½ å¯ä»¥åœ¨<code>package.json</code>çš„ devDependencies æ£€æŸ¥</p><blockquote><p>PS: å¿½ç•¥ç‰ˆæœ¬</p></blockquote><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// package.json</span></span><br><span class="line">  <span class="string">&quot;devDependencies&quot;</span>: &#123;</span><br><span class="line">   <span class="attr">&quot;@typescript-eslint/eslint-plugin&quot;</span>: <span class="string">&quot;^5.8.0&quot;</span>,</span><br><span class="line">   <span class="attr">&quot;@typescript-eslint/parser&quot;</span>: <span class="string">&quot;^5.8.0&quot;</span>,</span><br><span class="line">   <span class="attr">&quot;eslint&quot;</span>: <span class="string">&quot;^8.5.0&quot;</span>,</span><br><span class="line">   <span class="attr">&quot;eslint-config-airbnb&quot;</span>: <span class="string">&quot;^19.0.2&quot;</span>,</span><br><span class="line">   <span class="attr">&quot;eslint-plugin-import&quot;</span>: <span class="string">&quot;^2.25.3&quot;</span>,</span><br><span class="line">   <span class="attr">&quot;eslint-plugin-jsx-a11y&quot;</span>: <span class="string">&quot;^6.5.1&quot;</span>,</span><br><span class="line">   <span class="attr">&quot;eslint-plugin-react&quot;</span>: <span class="string">&quot;^7.27.1&quot;</span>,</span><br><span class="line">   <span class="attr">&quot;eslint-plugin-react-hooks&quot;</span>: <span class="string">&quot;^4.3.0&quot;</span></span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><h2 id="Step-5-è¿è¡ŒESLint"><a href="#Step-5-è¿è¡ŒESLint" class="headerlink" title="Step 5: è¿è¡ŒESLint"></a>Step 5: è¿è¡Œ<code>ESLint</code></h2><p>åœ¨é¡¹ç›®ä¸­æ–°å»ºä¸€ä¸ªç»ˆç«¯</p><ul><li><p>è¦è¿è¡Œ <code>ESLint</code> å¹¶æŸ¥çœ‹å®ƒæŒ‡å‘çš„é”™è¯¯ï¼Œåªéœ€è¿è¡Œï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx eslint &lt;targetFile&gt;</span><br></pre></td></tr></table></figure></li><li><p>è¦è‡ªåŠ¨ä¿®å¤ä¸€äº›é”™è¯¯ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨<code>--fix</code>ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx eslint &lt;targetFile&gt; --fix</span><br></pre></td></tr></table></figure></li></ul><h2 id="Step-5-1-è®©æˆ‘ä»¬åœ¨é¡¹ç›®ä¸­ä½¿ç”¨"><a href="#Step-5-1-è®©æˆ‘ä»¬åœ¨é¡¹ç›®ä¸­ä½¿ç”¨" class="headerlink" title="Step 5.1: è®©æˆ‘ä»¬åœ¨é¡¹ç›®ä¸­ä½¿ç”¨"></a>Step 5.1: è®©æˆ‘ä»¬åœ¨é¡¹ç›®ä¸­ä½¿ç”¨</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx eslint src/*</span><br></pre></td></tr></table></figure><p>ESLint è¾“å‡ºç»“æœï¼š</p><p><font color='red'>âœ– 33 problems (33 errors, 0 warnings) </font><br><font color='red'>14 errors and 0 warnings potentially fixable with the <code>--fix</code> option. </font></p><p>è¿è¡Œè‡ªåŠ¨ä¿®å¤ï¼Œå®ƒå˜å¾—ä¸é‚£ä¹ˆå¯æ€•äº†ï¼Œä½†æˆ‘ä»¬ä»ç„¶æœ‰ 19 ä¸ªé”™è¯¯éœ€è¦è§£å†³ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx eslint src/* --fix</span><br></pre></td></tr></table></figure><p>ESLint è¾“å‡ºç»“æœï¼š</p><p><font color='red'>âœ– 20 problems (19 errors, 1 warning)</font></p><p>è™½ç„¶æˆ‘ä»¬è¿è¡Œ<code>--fix</code> ä½†æ˜¯ä¾ç„¶è¿˜æ˜¯æœ‰é”™è¯¯æ²¡æœ‰è¢«ä¿®å¤ è€Œä¸”è¿™äº›é”™è¯¯å¾ˆå¤šæ²¡æœ‰æ„ä¹‰ é‚£æ€ä¹ˆè§£å†³å‘¢ï¼Ÿ</p><p>å¹¸è¿çš„æ˜¯æˆ‘ä»¬å¯ä»¥é€šè¿‡<code>eslintrc.json</code> å»ä¿®å¤ä»–ä»¬</p><h2 id="è§£å†³å‰©ä½™é—®é¢˜"><a href="#è§£å†³å‰©ä½™é—®é¢˜" class="headerlink" title="è§£å†³å‰©ä½™é—®é¢˜"></a>è§£å†³å‰©ä½™é—®é¢˜</h2><ol><li><font color='red'>JSX not allowed in files with extension â€˜.tsxâ€™</font> (<a href="https://github.com/yannickcr/eslint-plugin-react/tree/master/docs/rules/jsx-filename-extension.md">react/jsx-filename-extension</a>)<br>åœ¨ <code> eslintrc.json</code> ä¸­ï¼Œæ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š</li></ol><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;rules&quot;</span>: &#123;</span><br><span class="line">      <span class="comment">// ... other rules</span></span><br><span class="line">      <span class="attr">&quot;react/jsx-filename-extension&quot;</span>: [<span class="string">&quot;warn&quot;</span>,&#123;<span class="attr">&quot;extensions&quot;</span>: [<span class="string">&quot;.tsx&quot;</span>]&#125; ]</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœä½ æƒ³åŒæ—¶å…è®¸ â€˜.jsxâ€™ å’Œ â€˜.jsâ€™ï¼Œ é…ç½®å°†æ˜¯:</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;rules&quot;</span>: &#123;</span><br><span class="line">      <span class="attr">&quot;react/jsx-filename-extension&quot;</span>: [<span class="string">&quot;warn&quot;</span>,&#123;<span class="attr">&quot;extensions&quot;</span>:[<span class="string">&quot;.tsx&quot;</span>, <span class="string">&quot;.jsx&quot;</span>]&#125;]</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><ol start="2"><li><font color='red'>Unable to resolve path to module â€˜./XXXâ€™</font> (<a href="https://github.com/import-js/eslint-plugin-import/blob/v2.25.3/docs/rules/extensions.md">import/no-unresolved</a>)</li></ol><ul><li>åœ¨é¡¹ç›®æ‰“å¼€ç»ˆç«¯å®‰è£…<code>eslint-import-resolver-typescript</code></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install eslint-import-resolver-typescript --save-dev</span><br></pre></td></tr></table></figure><ul><li>åœ¨ <code> eslintrc.json</code>ä¸­ï¼Œæ–°å¢ä¸€ä¸ª<code>settings</code>å¹¶æ·»åŠ å†…å®¹ï¼š</li></ul><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;settings&quot;</span>: &#123;</span><br><span class="line">       <span class="attr">&quot;import/resolver&quot;</span>: &#123;</span><br><span class="line">         <span class="attr">&quot;typescript&quot;</span>: &#123;&#125;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><ol start="3"><li><font color='red'>Missing file extension â€œtsxâ€ for â€˜./XXXâ€™</font> (<a href="https://github.com/import-js/eslint-plugin-import/blob/v2.25.3/docs/rules/extensions.md">import/extensions</a>)<br>åœ¨ <code> eslintrc.json</code> ä¸Šï¼Œåœ¨<code>rules</code>ä¸­ï¼Œæ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š</li></ol><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;import/extensions&quot;</span>: [</span><br><span class="line">    <span class="string">&quot;error&quot;</span>,</span><br><span class="line">    <span class="string">&quot;ignorePackages&quot;</span>,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">&quot;ts&quot;</span>: <span class="string">&quot;never&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;tsx&quot;</span>: <span class="string">&quot;never&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br></pre></td></tr></table></figure><ol start="4"><li><font color='red'>â€˜testâ€™ is not defined.</font></li></ol><ul><li>åœ¨ <code> eslintrc.json</code> <code>env</code>ä¸­ï¼Œæ–°å¢ä¸€ä¸ª<code>jest</code>å±æ€§</li></ul><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">  <span class="string">&quot;env&quot;</span>: &#123;</span><br><span class="line">  <span class="attr">&quot;browser&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">&quot;es2021&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">&quot;jest&quot;</span>: <span class="literal">true</span></span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><ol start="5"><li><font color='red'>â€˜Reactâ€™ must be in scope when using JSX </font>(<a href="https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/react-in-jsx-scope.md">react/react-in-jsx-scope</a>)<br>å¦‚æœä½ ä½¿ç”¨ React 17ï¼Œåœ¨ <code> eslintrc.json</code> ä¸­ï¼Œæ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š</li></ol><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;rules&quot;</span>: &#123;</span><br><span class="line">     <span class="comment">// ... other rules</span></span><br><span class="line">     <span class="attr">&quot;react/react-in-jsx-scope&quot;</span>: <span class="number">0</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½ è¿˜å¯ä»¥æ·»åŠ ä¸€äº›è‡ªå·±éœ€è¦çš„<a href="https://eslint.org/docs/rules/">è§„åˆ™</a> æ¯”å¦‚ï¼š<code>quotes</code> <code>react-hooks</code> <code>max-len</code></p><h2 id="å°†Eslint-é›†æˆåˆ°-Vs-Code"><a href="#å°†Eslint-é›†æˆåˆ°-Vs-Code" class="headerlink" title="å°†Eslint é›†æˆåˆ° Vs Code"></a>å°†<code>Eslint</code> é›†æˆåˆ° <code>Vs Code</code></h2><ul><li>å®‰è£… <code>Vscode</code> <a href="https://github.com/Microsoft/vscode-eslint"><code>Eslint</code></a>æ‰©å±•</li></ul><p>è½¬åˆ°<code>Vscode</code> æ‰©å±•æœç´¢<code>eslint</code> å¹¶å®‰è£…<br><img src="/images/eslint.png"></p><ul><li>åœ¨é¡¹ç›®ä¸­æ–°å»ºä¸€ä¸ª <code>.vscode</code> æ–‡ä»¶å¤¹</li><li>å¹¶åœ¨<code>.vscode</code> æ–‡ä»¶å¤¹ä¸­æ–°å»ºä¸€ä¸ª settings.json</li></ul><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="comment">// settings.json</span></span><br><span class="line">  <span class="attr">&quot;editor.formatOnSave&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">&quot;editor.defaultFormatter&quot;</span>: <span class="string">&quot;dbaeumer.vscode-eslint&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;editor.codeActionsOnSave&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;source.fixAll.eslint&quot;</span>: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é€šè¿‡è¿™äº›é…ç½®ä½ å¯ä»¥åœ¨ä¿æŒæ–‡ä»¶æ—¶çŸ¥é“ä¿®å¤ eslint å¦å¤– ä½ å¯èƒ½è¿˜éœ€è¦<a href="https://prettier.io/">prettier</a></p><h2 id="æœ€åï¼Œä½ è¿˜å¯ä»¥åœ¨package-jsonä¸­æ·»åŠ ä¸€äº›scripts"><a href="#æœ€åï¼Œä½ è¿˜å¯ä»¥åœ¨package-jsonä¸­æ·»åŠ ä¸€äº›scripts" class="headerlink" title="æœ€åï¼Œä½ è¿˜å¯ä»¥åœ¨package.jsonä¸­æ·»åŠ ä¸€äº›scripts"></a>æœ€åï¼Œä½ è¿˜å¯ä»¥åœ¨<code>package.json</code>ä¸­æ·»åŠ ä¸€äº›<code>scripts</code></h2><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;scripts&quot;</span>: &#123;</span><br><span class="line">  <span class="comment">// ... other scripts</span></span><br><span class="line">  <span class="attr">&quot;lint:css&quot;</span>: <span class="string">&quot;stylelint src/**/*.css&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;lint:fix&quot;</span>: <span class="string">&quot;npm run lint -- --fix&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;lint&quot;</span>: <span class="string">&quot;eslint src/*&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ‰‹åŠ¨è¿è¡Œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm run lint</span><br><span class="line"><span class="comment"># or</span></span><br><span class="line">yarn lint</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;&lt;code&gt;JavaScript&lt;/code&gt; æ˜¯ä¸€ä¸ªåŠ¨æ€çš„å¼±ç±»å‹è¯­è¨€ï¼Œåœ¨å¼€å‘ä¸­æ¯”è¾ƒå®¹æ˜“å‡ºé”™ã€‚å› ä¸ºæ²¡æœ‰ç¼–è¯‘ç¨‹åºï¼Œä¸ºäº†å¯»æ‰¾ JavaScrip</summary>
      
    
    
    
    
    <category term="React" scheme="http://blog.viewing.top/tags/React/"/>
    
    <category term="Typescript" scheme="http://blog.viewing.top/tags/Typescript/"/>
    
    <category term="ESLint" scheme="http://blog.viewing.top/tags/ESLint/"/>
    
  </entry>
  
</feed>
